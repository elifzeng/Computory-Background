记录一些numpy技巧
## 花式索引
```python
row_index = [1,1,2,7]
col_index = [0,2,4,8]
M[row_index,col_index] # 选出(1,0)(1,2)(2,4)(7,8)位置的元素
M[row_index,:][:,col_index] # 选出4行4列
```
### example
```python
ref_xyz = 
array([[30.582 , 11.728 , 19.983 ],
       [31.027 , 12.6   , 20.127 ],
       [30.353 , 11.298 , 20.844 ],
       [29.653 , 11.9115, 19.4432],
       [31.542 , 10.831 , 19.257 ],
       [31.079 ,  9.781 , 18.465 ],
       [30.103 ,  9.627 , 18.364 ],
       [31.976 ,  8.934 , 17.802 ],
       [31.619 ,  8.183 , 17.238 ],
       [33.346 ,  9.137 , 17.93  ],
       [33.986 ,  8.537 , 17.458 ],
       [33.82  , 10.186 , 18.722 ],
       [34.813 , 10.34  , 18.823 ],
       [32.919 , 11.024 , 19.379 ],
       [33.264 , 11.773 , 19.944 ]])
cycleC_index = [4,5,7,9,11,13]
>>ref_xyz[cycleC_index]
array([[31.542, 10.831, 19.257],
       [31.079,  9.781, 18.465],
       [31.976,  8.934, 17.802],
       [33.346,  9.137, 17.93 ],
       [33.82 , 10.186, 18.722],
       [32.919, 11.024, 19.379]])
```
## 布尔索引
```pythob
row_index = (M[:,0] >= 20) & (M[:,0] <= 80)
col_index = M[0,:] >= 5
M[row_index,:][:,col_index]
```
注意：不能在同一个方括号中对列和行都使用布尔索引。新词我们必须先在行方向上进行布尔选择，然后重新打开方括号进行第二次选择，这一次集中在列方向上选择  
如果需要对数组元素进行全局选择，可以
```python
mask = (M >= 20) & (M <= 90) & ((M / 10) % 1 >= 0.5)
M[mask]
```
## axis
[ref](https://blog.csdn.net/fangjian1204/article/details/53055219)
```python
>>> import numpy as np
>>> data = np.array([
... [1,2,1],
... [0,3,1],
... [2,1,4],
... [1,3,1]])
>>> np.sum(data, axis=1)
array([4, 4, 7, 5])
>>> np.min(data, axis=0)
array([0, 1, 1])
>>> np.average(data)
1.6666666666666667
```
通过不同的axis，numpy会沿着不同的方向进行操作：如果不设置，那么对所有的元素操作；如果axis=0，则沿着纵轴进行操作；axis=1，则沿着横轴进行操作。但这只是简单的二位数组，如果是多维的呢？可以总结为一句话：设axis=i，则numpy沿着第i个下标变化的放下进行操作。例如刚刚的例子，可以将表示为：data =[[a00, a01],[a10,a11]]，所以axis=0时，沿着第0个下标变化的方向进行操作，也就是a00->a10, a01->a11，也就是纵坐标的方向，axis=1时也类似。
